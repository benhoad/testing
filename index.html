<html>
  <head>

  </head>

  <body>
    <button id="timeouttest">
    Test SetTimeout.
    </button>

    <br/>
    <br/>

    <button id="intervaltest">
    Test Interval.
    </button>

    <button id="refreshtest">
    Test refresh
    </button>

    <h1>Data:</h1>
    <div id="datadump">
    </div>

  <script>


var timeouttest = document.getElementById('timeouttest');
var intervaltest = document.getElementById('intervaltest');
var datadump = document.getElementById('datadump');


var counter = 0;

var intervalTimer;

function getUrlVars() {
var vars = {};
var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
vars[key] = value;
});
return vars;
}


datadump.innerHTML = "Search String = " + getUrlVars().toString();



timeouttest.addEventListener("click",function(e){
	timeouttest.innerHTML = "running..."
   setTimeout(function(){
   	alert('done');
    timeouttest.innerHTML = "Test SetTimeout. Complete"
   },5000);
},false);


intervaltest.addEventListener("click", function(e){
	if (counter == 0) {
  	intervalTimer = setInterval(function(){
		counter++;
		intervaltest.innerHTML = "Test Interval. ("+ counter +")"
}, 1000);
  }else{
  	counter = 0;
    clearInterval(intervalTimer);
    intervaltest.innerHTML = "Test Interval.";
  }
},false);


refreshtest.addEventListener("click",function(e){
	refreshtest.innerHTML = "running..."
   setTimeout(function(){
   	window.location.reload();
   },5000);
},false);



    </script>
  </body>

</body>
